{
  "version": 3,
  "sources": ["../package.json", "../src/core/device/detector.ts", "../src/core/page/controller.ts", "../node_modules/.pnpm/lenis@1.3.11/node_modules/lenis/package.json", "../node_modules/.pnpm/lenis@1.3.11/node_modules/lenis/packages/core/src/maths.ts", "../node_modules/.pnpm/lenis@1.3.11/node_modules/lenis/packages/core/src/animate.ts", "../node_modules/.pnpm/lenis@1.3.11/node_modules/lenis/packages/core/src/debounce.ts", "../node_modules/.pnpm/lenis@1.3.11/node_modules/lenis/packages/core/src/dimensions.ts", "../node_modules/.pnpm/lenis@1.3.11/node_modules/lenis/packages/core/src/emitter.ts", "../node_modules/.pnpm/lenis@1.3.11/node_modules/lenis/packages/core/src/virtual-scroll.ts", "../node_modules/.pnpm/lenis@1.3.11/node_modules/lenis/packages/core/src/lenis.ts", "../src/core/page/scroll.ts", "../src/shared/dom/css.ts", "../src/shared/constants/index.ts", "../src/shared/dom/visibillity.ts", "../src/shared/dom/attributes.ts", "../src/shared/dom/template.ts", "../src/shared/dom/on-class-change.ts", "../src/core/page/viewport.ts", "../src/features/modal/modal.ts", "../src/features/article/article.ts", "../src/features/forms/inputs/select.ts", "../src/features/forms/utils/get-form-data.ts", "../src/shared/utils/debounce.ts", "../src/shared/utils/sleep.ts", "../src/shared/utils/to-array.ts", "../src/shared/utils/nth-element.ts", "../src/shared/utils/query-params.ts", "../src/shared/webflow/restart.ts", "../src/shared/index.ts", "../src/helpers.ts", "../src/app.ts"],
  "sourcesContent": ["{\n    \"name\": \"@reflow/kit\",\n    \"version\": \"0.2.6\",\n    \"description\": \"\",\n    \"main\": \"dist/reflow.kit.min.js\",\n    \"unpkg\": \"dist/reflow.kit.min.js\",\n    \"jsdelivr\": \"dist/reflow.kit.min.js\",\n    \"scripts\": {\n        \"build\": \"node esbuild.config.js\",\n        \"dev\": \"esbuild src/app.ts --bundle --outfile=dist/app.js --watch --sourcemap\"\n    },\n    \"keywords\": [],\n    \"author\": \"\",\n    \"license\": \"ISC\",\n    \"type\": \"module\",\n    \"packageManager\": \"pnpm@10.12.1\",\n    \"devDependencies\": {\n        \"@types/jquery\": \"^3.5.33\",\n        \"esbuild\": \"^0.25.9\",\n        \"typescript\": \"^5.9.2\"\n    },\n    \"dependencies\": {\n        \"lenis\": \"^1.3.11\"\n    }\n}\n", "export function DeviceDetector({ mobile, tablet, desktop }: DeviceDetectorOptions) {\n    return {\n        isMobile(): boolean {\n            return (\n                /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(\n                    navigator.userAgent\n                ) || window.matchMedia(`(max-width: ${mobile?.max || 479}px)`).matches\n            );\n        },\n\n        isTablet(): boolean {\n            return (\n                /(iPad|Tablet|(Android(?!.*Mobile))|SM-T\\d{3}|Kindle|Surface|PlayBook|Nexus (7|10)|Tab)/i.test(\n                    navigator.userAgent\n                ) ||\n                window.matchMedia(\n                    `(min-width: ${tablet?.min || 768}px) and (max-width: ${tablet?.max || 991}px)`\n                ).matches\n            );\n        },\n\n        isDesktop(): boolean {\n            return (\n                !/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini|Tablet|Kindle|Surface|PlayBook|Nexus (7|10)|Tab/i.test(\n                    navigator.userAgent\n                ) && window.matchMedia(`(min-width: ${desktop?.min || 1025}px)`).matches\n            );\n        }\n    };\n}\n\nexport interface DeviceDetectorOptions {\n    mobile?: { min?: number; max?: number };\n    tablet?: { min?: number; max?: number };\n    desktop?: { min?: number; max?: number };\n}\n", "export function PageLifecycle({\n    onInit,\n    leavePageCondition,\n    utilities = {}\n}: PageLifecycleOptions): PageLifecycleMethods {\n    const domListeners: EventListener[] = [];\n    const eventListeners: Record<keyof EventsMap, EventListener> = {\n        \"page:before\": () => {},\n        \"page:fontready\": () => {},\n        \"page:domready\": () => {},\n        \"page:ready\": () => {},\n        \"page:restore\": () => {},\n        \"page:leave\": () => {},\n        \"page:load\": () => {}\n    };\n\n    const domReady = new Promise<void>(resolve => {\n        document.addEventListener(\"DOMContentLoaded\", () => resolve(), { once: true });\n    });\n\n    init();\n\n    async function init() {\n        onInit?.();\n\n        document.addEventListener(\"load\", () => triggerEvent(\"page:load\"));\n        document.fonts.ready.then(() => triggerEvent(\"page:fontready\"));\n\n        domReady.then(async () => {\n            await document.fonts.ready;\n            await triggerEvent(\"page:before\");\n            await Promise.all(domListeners.map(cb => cb(utilities)));\n        });\n\n        await document.fonts.ready;\n        await domReady;\n\n        await triggerEvent(\"page:ready\");\n        console.log(\"page:%c ready\", \"color:green;\");\n    }\n\n    document.addEventListener(\"click\", handleClick);\n    window.addEventListener(\"pageshow\", ({ persisted }) => {\n        if (persisted) triggerEvent(\"page:restore\");\n    });\n\n    return {\n        on(event: keyof EventsMap, cb: EventListener, options?: { name?: string }) {\n            switch (event) {\n                case \"page:domready\":\n                    domListeners.push(cb);\n\n                    break;\n                case \"page:fontready\":\n                    if (options?.name) listenFontLoad(options.name, cb);\n                    else eventListeners[event] = cb;\n\n                    break;\n                default:\n                    eventListeners[event] = cb;\n            }\n        }\n    };\n\n    function listenFontLoad(name: string, cb: EventListener) {\n        Array.from(document.fonts)\n            .find(f => f.family === name)\n            ?.loaded.then(cb);\n    }\n\n    async function triggerEvent(event: keyof EventsMap) {\n        if (event === \"page:domready\" || !eventListeners[event]) return;\n        await eventListeners[event](utilities);\n    }\n\n    async function handleClick(e: MouseEvent) {\n        if (!e.isTrusted) return;\n        const target = (e.target as HTMLElement).closest(\"a\");\n\n        if (!target) return;\n        if (e.button === 1 || e.ctrlKey || e.metaKey) return;\n\n        const href = target.getAttribute(\"href\");\n        const dest = new URL(target.href);\n        const samePage = dest.pathname === new URL(location.href).pathname;\n\n        if (leavePageCondition?.() || (href?.startsWith(\"/\") && !samePage)) {\n            e.preventDefault();\n            await triggerEvent(\"page:leave\");\n\n            document.removeEventListener(\"click\", handleClick);\n            target.click();\n            document.addEventListener(\"click\", handleClick);\n        }\n    }\n}\n\nexport interface PageLifecycleMethods {\n    on: <E extends keyof EventsMap>(\n        event: E,\n        callback: EventsMap[E],\n        options?: { name?: string }\n    ) => void;\n}\n\ntype EventListener = (tools?: Utils) => void | Promise<void>;\n\ntype EventsMap = {\n    \"page:before\": EventListener;\n    \"page:fontready\": EventListener;\n    \"page:domready\": EventListener;\n    \"page:ready\": EventListener;\n    \"page:restore\": EventListener;\n    \"page:leave\": EventListener;\n    \"page:load\": EventListener;\n};\n\nexport interface PageLifecycleOptions {\n    onInit?: () => void;\n    leavePageCondition?: () => boolean;\n    utilities?: Utils;\n}\n\ntype Utils = Record<string, any>;\n", "{\n  \"name\": \"lenis\",\n  \"version\": \"1.3.11\",\n  \"description\": \"How smooth scroll should be\",\n  \"type\": \"module\",\n  \"sideEffects\": false,\n  \"author\": \"darkroom.engineering\",\n  \"license\": \"MIT\",\n  \"repository\": {\n    \"type\": \"git\",\n    \"url\": \"git+https://github.com/darkroomengineering/lenis.git\"\n  },\n  \"bugs\": {\n    \"url\": \"https://github.com/darkroomengineering/lenis/issues\"\n  },\n  \"homepage\": \"https://github.com/darkroomengineering/lenis\",\n  \"funding\": {\n    \"type\": \"github\",\n    \"url\": \"https://github.com/sponsors/darkroomengineering\"\n  },\n  \"keywords\": [\n    \"scroll\",\n    \"smooth\",\n    \"lenis\",\n    \"react\",\n    \"vue\"\n  ],\n  \"scripts\": {\n    \"build\": \"pnpm build:core && pnpm build:all\",\n    \"build:core\": \"tsup --config tsup.core.ts\",\n    \"build:all\": \"tsup\",\n    \"dev\": \"pnpm run -w --parallel /^dev:.*/\",\n    \"dev:build\": \"tsup --watch\",\n    \"dev:playground\": \"pnpm --filter playground dev\",\n    \"dev:nuxt\": \"pnpm --filter playground-nuxt dev\",\n    \"readme\": \"node ./scripts/update-readme.js\",\n    \"version:dev\": \"npm version prerelease --preid dev --force --no-git-tag-version\",\n    \"version:patch\": \"npm version patch --force --no-git-tag-version\",\n    \"version:minor\": \"npm version minor --force --no-git-tag-version\",\n    \"version:major\": \"npm version major --force --no-git-tag-version\",\n    \"postversion\": \"pnpm build && pnpm readme\",\n    \"publish:dev\": \"npm publish --tag dev\",\n    \"publish:main\": \"npm publish\"\n  },\n  \"files\": [\n    \"dist\"\n  ],\n  \"devDependencies\": {\n    \"terser\": \"^5.37.0\",\n    \"tsup\": \"^8.3.5\",\n    \"typescript\": \"^5.7.3\"\n  },\n  \"peerDependencies\": {\n    \"react\": \">=17.0.0\",\n    \"vue\": \">=3.0.0\",\n    \"@nuxt/kit\": \">=3.0.0\"\n  },\n  \"peerDependenciesMeta\": {\n    \"react\": {\n      \"optional\": true\n    },\n    \"vue\": {\n      \"optional\": true\n    },\n    \"@nuxt/kit\": {\n      \"optional\": true\n    }\n  },\n  \"unpkg\": \"./dist/lenis.mjs\",\n  \"main\": \"./dist/lenis.mjs\",\n  \"module\": \"./dist/lenis.mjs\",\n  \"types\": \"./dist/lenis.d.ts\",\n  \"exports\": {\n    \".\": {\n      \"types\": \"./dist/lenis.d.ts\",\n      \"default\": \"./dist/lenis.mjs\"\n    },\n    \"./react\": {\n      \"types\": \"./dist/lenis-react.d.ts\",\n      \"default\": \"./dist/lenis-react.mjs\"\n    },\n    \"./snap\": {\n      \"types\": \"./dist/lenis-snap.d.ts\",\n      \"default\": \"./dist/lenis-snap.mjs\"\n    },\n    \"./vue\": {\n      \"types\": \"./dist/lenis-vue.d.ts\",\n      \"default\": \"./dist/lenis-vue.mjs\"\n    },\n    \"./nuxt\": {\n      \"default\": \"./dist/lenis-vue-nuxt.mjs\"\n    },\n    \"./nuxt/runtime/*\": {\n      \"default\": \"./dist/nuxt/runtime/*.mjs\"\n    },\n    \"./dist/*\": \"./dist/*\"\n  }\n}\n", "/**\r\n * Clamp a value between a minimum and maximum value\r\n *\r\n * @param min Minimum value\r\n * @param input Value to clamp\r\n * @param max Maximum value\r\n * @returns Clamped value\r\n */\r\nexport function clamp(min: number, input: number, max: number) {\r\n  return Math.max(min, Math.min(input, max))\r\n}\r\n\r\n/**\r\n * Truncate a floating-point number to a specified number of decimal places\r\n *\r\n * @param value Value to truncate\r\n * @param decimals Number of decimal places to truncate to\r\n * @returns Truncated value\r\n */\r\nexport function truncate(value: number, decimals = 0) {\r\n  return parseFloat(value.toFixed(decimals))\r\n}\r\n\r\n/**\r\n *  Linearly interpolate between two values using an amount (0 <= t <= 1)\r\n *\r\n * @param x First value\r\n * @param y Second value\r\n * @param t Amount to interpolate (0 <= t <= 1)\r\n * @returns Interpolated value\r\n */\r\nexport function lerp(x: number, y: number, t: number) {\r\n  return (1 - t) * x + t * y\r\n}\r\n\r\n/**\r\n * Damp a value over time using a damping factor\r\n * {@link http://www.rorydriscoll.com/2016/03/07/frame-rate-independent-damping-using-lerp/}\r\n *\r\n * @param x Initial value\r\n * @param y Target value\r\n * @param lambda Damping factor\r\n * @param dt Time elapsed since the last update\r\n * @returns Damped value\r\n */\r\nexport function damp(x: number, y: number, lambda: number, deltaTime: number) {\r\n  return lerp(x, y, 1 - Math.exp(-lambda * deltaTime))\r\n}\r\n\r\n/**\r\n * Calculate the modulo of the dividend and divisor while keeping the result within the same sign as the divisor\r\n * {@link https://anguscroll.com/just/just-modulo}\r\n *\r\n * @param n Dividend\r\n * @param d Divisor\r\n * @returns Modulo\r\n */\r\nexport function modulo(n: number, d: number) {\r\n  return ((n % d) + d) % d\r\n}\r\n", "import { clamp, damp } from './maths'\r\nimport type { EasingFunction, FromToOptions, OnUpdateCallback } from './types'\r\n\r\n/**\r\n * Animate class to handle value animations with lerping or easing\r\n *\r\n * @example\r\n * const animate = new Animate()\r\n * animate.fromTo(0, 100, { duration: 1, easing: (t) => t })\r\n * animate.advance(0.5) // 50\r\n */\r\nexport class Animate {\r\n  isRunning = false\r\n  value = 0\r\n  from = 0\r\n  to = 0\r\n  currentTime = 0\r\n\r\n  // These are instanciated in the fromTo method\r\n  lerp?: number\r\n  duration?: number\r\n  easing?: EasingFunction\r\n  onUpdate?: OnUpdateCallback\r\n\r\n  /**\r\n   * Advance the animation by the given delta time\r\n   *\r\n   * @param deltaTime - The time in seconds to advance the animation\r\n   */\r\n  advance(deltaTime: number) {\r\n    if (!this.isRunning) return\r\n\r\n    let completed = false\r\n\r\n    if (this.duration && this.easing) {\r\n      this.currentTime += deltaTime\r\n      const linearProgress = clamp(0, this.currentTime / this.duration, 1)\r\n\r\n      completed = linearProgress >= 1\r\n      const easedProgress = completed ? 1 : this.easing(linearProgress)\r\n      this.value = this.from + (this.to - this.from) * easedProgress\r\n    } else if (this.lerp) {\r\n      this.value = damp(this.value, this.to, this.lerp * 60, deltaTime)\r\n      if (Math.round(this.value) === this.to) {\r\n        this.value = this.to\r\n        completed = true\r\n      }\r\n    } else {\r\n      // If no easing or lerp, just jump to the end value\r\n      this.value = this.to\r\n      completed = true\r\n    }\r\n\r\n    if (completed) {\r\n      this.stop()\r\n    }\r\n\r\n    // Call the onUpdate callback with the current value and completed status\r\n    this.onUpdate?.(this.value, completed)\r\n  }\r\n\r\n  /** Stop the animation */\r\n  stop() {\r\n    this.isRunning = false\r\n  }\r\n\r\n  /**\r\n   * Set up the animation from a starting value to an ending value\r\n   * with optional parameters for lerping, duration, easing, and onUpdate callback\r\n   *\r\n   * @param from - The starting value\r\n   * @param to - The ending value\r\n   * @param options - Options for the animation\r\n   */\r\n  fromTo(\r\n    from: number,\r\n    to: number,\r\n    { lerp, duration, easing, onStart, onUpdate }: FromToOptions\r\n  ) {\r\n    this.from = this.value = from\r\n    this.to = to\r\n    this.lerp = lerp\r\n    this.duration = duration\r\n    this.easing = easing\r\n    this.currentTime = 0\r\n    this.isRunning = true\r\n\r\n    onStart?.()\r\n    this.onUpdate = onUpdate\r\n  }\r\n}\r\n", "export function debounce<CB extends (...args: any[]) => void>(\r\n  callback: CB,\r\n  delay: number\r\n) {\r\n  let timer: number | undefined\r\n  return function <T>(this: T, ...args: Parameters<typeof callback>) {\r\n    let context = this\r\n    clearTimeout(timer)\r\n    timer = setTimeout(() => {\r\n      timer = undefined\r\n      callback.apply(context, args)\r\n    }, delay)\r\n  }\r\n}\r\n", "import { debounce } from './debounce'\r\n\r\n/**\r\n * Dimensions class to handle the size of the content and wrapper\r\n *\r\n * @example\r\n * const dimensions = new Dimensions(wrapper, content)\r\n * dimensions.on('resize', (e) => {\r\n *   console.log(e.width, e.height)\r\n * })\r\n */\r\nexport class Dimensions {\r\n  width = 0\r\n  height = 0\r\n  scrollHeight = 0\r\n  scrollWidth = 0\r\n\r\n  // These are instanciated in the constructor as they need information from the options\r\n  private debouncedResize?: (...args: unknown[]) => void\r\n  private wrapperResizeObserver?: ResizeObserver\r\n  private contentResizeObserver?: ResizeObserver\r\n\r\n  constructor(\r\n    private wrapper: HTMLElement | Window | Element,\r\n    private content: HTMLElement | Element,\r\n    { autoResize = true, debounce: debounceValue = 250 } = {}\r\n  ) {\r\n    if (autoResize) {\r\n      this.debouncedResize = debounce(this.resize, debounceValue)\r\n\r\n      if (this.wrapper instanceof Window) {\r\n        window.addEventListener('resize', this.debouncedResize, false)\r\n      } else {\r\n        this.wrapperResizeObserver = new ResizeObserver(this.debouncedResize)\r\n        this.wrapperResizeObserver.observe(this.wrapper)\r\n      }\r\n\r\n      this.contentResizeObserver = new ResizeObserver(this.debouncedResize)\r\n      this.contentResizeObserver.observe(this.content)\r\n    }\r\n\r\n    this.resize()\r\n  }\r\n\r\n  destroy() {\r\n    this.wrapperResizeObserver?.disconnect()\r\n    this.contentResizeObserver?.disconnect()\r\n\r\n    if (this.wrapper === window && this.debouncedResize) {\r\n      window.removeEventListener('resize', this.debouncedResize, false)\r\n    }\r\n  }\r\n\r\n  resize = () => {\r\n    this.onWrapperResize()\r\n    this.onContentResize()\r\n  }\r\n\r\n  onWrapperResize = () => {\r\n    if (this.wrapper instanceof Window) {\r\n      this.width = window.innerWidth\r\n      this.height = window.innerHeight\r\n    } else {\r\n      this.width = this.wrapper.clientWidth\r\n      this.height = this.wrapper.clientHeight\r\n    }\r\n  }\r\n\r\n  onContentResize = () => {\r\n    if (this.wrapper instanceof Window) {\r\n      this.scrollHeight = this.content.scrollHeight\r\n      this.scrollWidth = this.content.scrollWidth\r\n    } else {\r\n      this.scrollHeight = this.wrapper.scrollHeight\r\n      this.scrollWidth = this.wrapper.scrollWidth\r\n    }\r\n  }\r\n\r\n  get limit() {\r\n    return {\r\n      x: this.scrollWidth - this.width,\r\n      y: this.scrollHeight - this.height,\r\n    }\r\n  }\r\n}\r\n", "/**\r\n * Emitter class to handle events\r\n * @example\r\n * const emitter = new Emitter()\r\n * emitter.on('event', (data) => {\r\n *   console.log(data)\r\n * })\r\n * emitter.emit('event', 'data')\r\n */\r\nexport class Emitter {\r\n  private events: Record<\r\n    string,\r\n    Array<(...args: unknown[]) => void> | undefined\r\n  > = {}\r\n\r\n  /**\r\n   * Emit an event with the given data\r\n   * @param event Event name\r\n   * @param args Data to pass to the event handlers\r\n   */\r\n  emit(event: string, ...args: unknown[]) {\r\n    let callbacks = this.events[event] || []\r\n    for (let i = 0, length = callbacks.length; i < length; i++) {\r\n      callbacks[i]?.(...args)\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Add a callback to the event\r\n   * @param event Event name\r\n   * @param cb Callback function\r\n   * @returns Unsubscribe function\r\n   */\r\n  on<CB extends (...args: any[]) => void>(event: string, cb: CB) {\r\n    // Add the callback to the event's callback list, or create a new list with the callback\r\n    this.events[event]?.push(cb) || (this.events[event] = [cb])\r\n\r\n    // Return an unsubscribe function\r\n    return () => {\r\n      this.events[event] = this.events[event]?.filter((i) => cb !== i)\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Remove a callback from the event\r\n   * @param event Event name\r\n   * @param callback Callback function\r\n   */\r\n  off<CB extends (...args: any[]) => void>(event: string, callback: CB) {\r\n    this.events[event] = this.events[event]?.filter((i) => callback !== i)\r\n  }\r\n\r\n  /**\r\n   * Remove all event listeners and clean up\r\n   */\r\n  destroy() {\r\n    this.events = {}\r\n  }\r\n}\r\n", "import { Emitter } from './emitter'\r\nimport type { VirtualScrollCallback } from './types'\r\n\r\nconst LINE_HEIGHT = 100 / 6\r\nconst listenerOptions: AddEventListenerOptions = { passive: false }\r\n\r\nexport class VirtualScroll {\r\n  touchStart = {\r\n    x: 0,\r\n    y: 0,\r\n  }\r\n  lastDelta = {\r\n    x: 0,\r\n    y: 0,\r\n  }\r\n  window = {\r\n    width: 0,\r\n    height: 0,\r\n  }\r\n  private emitter = new Emitter()\r\n\r\n  constructor(\r\n    private element: HTMLElement,\r\n    private options = { wheelMultiplier: 1, touchMultiplier: 1 }\r\n  ) {\r\n    window.addEventListener('resize', this.onWindowResize, false)\r\n    this.onWindowResize()\r\n\r\n    this.element.addEventListener('wheel', this.onWheel, listenerOptions)\r\n    this.element.addEventListener(\r\n      'touchstart',\r\n      this.onTouchStart,\r\n      listenerOptions\r\n    )\r\n    this.element.addEventListener(\r\n      'touchmove',\r\n      this.onTouchMove,\r\n      listenerOptions\r\n    )\r\n    this.element.addEventListener('touchend', this.onTouchEnd, listenerOptions)\r\n  }\r\n\r\n  /**\r\n   * Add an event listener for the given event and callback\r\n   *\r\n   * @param event Event name\r\n   * @param callback Callback function\r\n   */\r\n  on(event: string, callback: VirtualScrollCallback) {\r\n    return this.emitter.on(event, callback)\r\n  }\r\n\r\n  /** Remove all event listeners and clean up */\r\n  destroy() {\r\n    this.emitter.destroy()\r\n\r\n    window.removeEventListener('resize', this.onWindowResize, false)\r\n\r\n    this.element.removeEventListener('wheel', this.onWheel, listenerOptions)\r\n    this.element.removeEventListener(\r\n      'touchstart',\r\n      this.onTouchStart,\r\n      listenerOptions\r\n    )\r\n    this.element.removeEventListener(\r\n      'touchmove',\r\n      this.onTouchMove,\r\n      listenerOptions\r\n    )\r\n    this.element.removeEventListener(\r\n      'touchend',\r\n      this.onTouchEnd,\r\n      listenerOptions\r\n    )\r\n  }\r\n\r\n  /**\r\n   * Event handler for 'touchstart' event\r\n   *\r\n   * @param event Touch event\r\n   */\r\n  onTouchStart = (event: TouchEvent) => {\r\n    // @ts-expect-error - event.targetTouches is not defined\r\n    const { clientX, clientY } = event.targetTouches\r\n      ? event.targetTouches[0]\r\n      : event\r\n\r\n    this.touchStart.x = clientX\r\n    this.touchStart.y = clientY\r\n\r\n    this.lastDelta = {\r\n      x: 0,\r\n      y: 0,\r\n    }\r\n\r\n    this.emitter.emit('scroll', {\r\n      deltaX: 0,\r\n      deltaY: 0,\r\n      event,\r\n    })\r\n  }\r\n\r\n  /** Event handler for 'touchmove' event */\r\n  onTouchMove = (event: TouchEvent) => {\r\n    // @ts-expect-error - event.targetTouches is not defined\r\n    const { clientX, clientY } = event.targetTouches\r\n      ? event.targetTouches[0]\r\n      : event\r\n\r\n    const deltaX = -(clientX - this.touchStart.x) * this.options.touchMultiplier\r\n    const deltaY = -(clientY - this.touchStart.y) * this.options.touchMultiplier\r\n\r\n    this.touchStart.x = clientX\r\n    this.touchStart.y = clientY\r\n\r\n    this.lastDelta = {\r\n      x: deltaX,\r\n      y: deltaY,\r\n    }\r\n\r\n    this.emitter.emit('scroll', {\r\n      deltaX,\r\n      deltaY,\r\n      event,\r\n    })\r\n  }\r\n\r\n  onTouchEnd = (event: TouchEvent) => {\r\n    this.emitter.emit('scroll', {\r\n      deltaX: this.lastDelta.x,\r\n      deltaY: this.lastDelta.y,\r\n      event,\r\n    })\r\n  }\r\n\r\n  /** Event handler for 'wheel' event */\r\n  onWheel = (event: WheelEvent) => {\r\n    let { deltaX, deltaY, deltaMode } = event\r\n\r\n    const multiplierX =\r\n      deltaMode === 1 ? LINE_HEIGHT : deltaMode === 2 ? this.window.width : 1\r\n    const multiplierY =\r\n      deltaMode === 1 ? LINE_HEIGHT : deltaMode === 2 ? this.window.height : 1\r\n\r\n    deltaX *= multiplierX\r\n    deltaY *= multiplierY\r\n\r\n    deltaX *= this.options.wheelMultiplier\r\n    deltaY *= this.options.wheelMultiplier\r\n\r\n    this.emitter.emit('scroll', { deltaX, deltaY, event })\r\n  }\r\n\r\n  onWindowResize = () => {\r\n    this.window = {\r\n      width: window.innerWidth,\r\n      height: window.innerHeight,\r\n    }\r\n  }\r\n}\r\n", "import { version } from '../../../package.json'\nimport { Animate } from './animate'\nimport { Dimensions } from './dimensions'\nimport { Emitter } from './emitter'\nimport { clamp, modulo } from './maths'\nimport type {\n  LenisEvent,\n  LenisOptions,\n  ScrollCallback,\n  Scrolling,\n  ScrollToOptions,\n  UserData,\n  VirtualScrollCallback,\n  VirtualScrollData,\n} from './types'\nimport { VirtualScroll } from './virtual-scroll'\n\n// Technical explanation\n// - listen to 'wheel' events\n// - prevent 'wheel' event to prevent scroll\n// - normalize wheel delta\n// - add delta to targetScroll\n// - animate scroll to targetScroll (smooth context)\n// - if animation is not running, listen to 'scroll' events (native context)\n\ntype OptionalPick<T, F extends keyof T> = Omit<T, F> & Partial<Pick<T, F>>\n\nconst defaultEasing = (t: number) => Math.min(1, 1.001 - Math.pow(2, -10 * t))\n\nexport class Lenis {\n  private _isScrolling: Scrolling = false // true when scroll is animating\n  private _isStopped = false // true if user should not be able to scroll - enable/disable programmatically\n  private _isLocked = false // same as isStopped but enabled/disabled when scroll reaches target\n  private _preventNextNativeScrollEvent = false\n  private _resetVelocityTimeout: ReturnType<typeof setTimeout> | null = null\n  private __rafID: number | null = null\n\n  /**\n   * Whether or not the user is touching the screen\n   */\n  isTouching?: boolean\n  /**\n   * The time in ms since the lenis instance was created\n   */\n  time = 0\n  /**\n   * User data that will be forwarded through the scroll event\n   *\n   * @example\n   * lenis.scrollTo(100, {\n   *   userData: {\n   *     foo: 'bar'\n   *   }\n   * })\n   */\n  userData: UserData = {}\n  /**\n   * The last velocity of the scroll\n   */\n  lastVelocity = 0\n  /**\n   * The current velocity of the scroll\n   */\n  velocity = 0\n  /**\n   * The direction of the scroll\n   */\n  direction: 1 | -1 | 0 = 0\n  /**\n   * The options passed to the lenis instance\n   */\n  options: OptionalPick<\n    Required<LenisOptions>,\n    'duration' | 'easing' | 'prevent' | 'virtualScroll'\n  >\n  /**\n   * The target scroll value\n   */\n  targetScroll: number\n  /**\n   * The animated scroll value\n   */\n  animatedScroll: number\n\n  // These are instanciated here as they don't need information from the options\n  private readonly animate = new Animate()\n  private readonly emitter = new Emitter()\n  // These are instanciated in the constructor as they need information from the options\n  readonly dimensions: Dimensions // This is not private because it's used in the Snap class\n  private readonly virtualScroll: VirtualScroll\n\n  constructor({\n    wrapper = window,\n    content = document.documentElement,\n    eventsTarget = wrapper,\n    smoothWheel = true,\n    syncTouch = false,\n    syncTouchLerp = 0.075,\n    touchInertiaExponent = 1.7,\n    duration, // in seconds\n    easing,\n    lerp = 0.1,\n    infinite = false,\n    orientation = 'vertical', // vertical, horizontal\n    gestureOrientation = orientation === 'horizontal' ? 'both' : 'vertical', // vertical, horizontal, both\n    touchMultiplier = 1,\n    wheelMultiplier = 1,\n    autoResize = true,\n    prevent,\n    virtualScroll,\n    overscroll = true,\n    autoRaf = false,\n    anchors = false,\n    autoToggle = false, // https://caniuse.com/?search=transition-behavior\n    allowNestedScroll = false,\n    __experimental__naiveDimensions = false,\n  }: LenisOptions = {}) {\n    // Set version\n    window.lenisVersion = version\n\n    // Check if wrapper is <html>, fallback to window\n    if (!wrapper || wrapper === document.documentElement) {\n      wrapper = window\n    }\n\n    // flip to easing/time based animation if at least one of them is provided\n    if (typeof duration === 'number' && typeof easing !== 'function') {\n      easing = defaultEasing\n    } else if (typeof easing === 'function' && typeof duration !== 'number') {\n      duration = 1\n    }\n\n    // Setup options\n    this.options = {\n      wrapper,\n      content,\n      eventsTarget,\n      smoothWheel,\n      syncTouch,\n      syncTouchLerp,\n      touchInertiaExponent,\n      duration,\n      easing,\n      lerp,\n      infinite,\n      gestureOrientation,\n      orientation,\n      touchMultiplier,\n      wheelMultiplier,\n      autoResize,\n      prevent,\n      virtualScroll,\n      overscroll,\n      autoRaf,\n      anchors,\n      autoToggle,\n      allowNestedScroll,\n      __experimental__naiveDimensions,\n    }\n\n    // Setup dimensions instance\n    this.dimensions = new Dimensions(wrapper, content, { autoResize })\n\n    // Setup class name\n    this.updateClassName()\n\n    // Set the initial scroll value for all scroll information\n    this.targetScroll = this.animatedScroll = this.actualScroll\n\n    // Add event listeners\n    this.options.wrapper.addEventListener('scroll', this.onNativeScroll, false)\n\n    this.options.wrapper.addEventListener('scrollend', this.onScrollEnd, {\n      capture: true,\n    })\n\n    if (this.options.anchors && this.options.wrapper === window) {\n      this.options.wrapper.addEventListener(\n        'click',\n        this.onClick as EventListener,\n        false\n      )\n    }\n\n    this.options.wrapper.addEventListener(\n      'pointerdown',\n      this.onPointerDown as EventListener,\n      false\n    )\n\n    // Setup virtual scroll instance\n    this.virtualScroll = new VirtualScroll(eventsTarget as HTMLElement, {\n      touchMultiplier,\n      wheelMultiplier,\n    })\n    this.virtualScroll.on('scroll', this.onVirtualScroll)\n\n    if (this.options.autoToggle) {\n      this.rootElement.addEventListener('transitionend', this.onTransitionEnd, {\n        passive: true,\n      })\n    }\n\n    if (this.options.autoRaf) {\n      this.__rafID = requestAnimationFrame(this.raf)\n    }\n  }\n\n  /**\n   * Destroy the lenis instance, remove all event listeners and clean up the class name\n   */\n  destroy() {\n    this.emitter.destroy()\n\n    this.options.wrapper.removeEventListener(\n      'scroll',\n      this.onNativeScroll,\n      false\n    )\n\n    this.options.wrapper.removeEventListener('scrollend', this.onScrollEnd, {\n      capture: true,\n    })\n\n    this.options.wrapper.removeEventListener(\n      'pointerdown',\n      this.onPointerDown as EventListener,\n      false\n    )\n\n    if (this.options.anchors && this.options.wrapper === window) {\n      this.options.wrapper.removeEventListener(\n        'click',\n        this.onClick as EventListener,\n        false\n      )\n    }\n\n    this.virtualScroll.destroy()\n    this.dimensions.destroy()\n\n    this.cleanUpClassName()\n\n    if (this.__rafID) {\n      cancelAnimationFrame(this.__rafID)\n    }\n  }\n\n  /**\n   * Add an event listener for the given event and callback\n   *\n   * @param event Event name\n   * @param callback Callback function\n   * @returns Unsubscribe function\n   */\n  on(event: 'scroll', callback: ScrollCallback): () => void\n  on(event: 'virtual-scroll', callback: VirtualScrollCallback): () => void\n  on(event: LenisEvent, callback: any) {\n    return this.emitter.on(event, callback)\n  }\n\n  /**\n   * Remove an event listener for the given event and callback\n   *\n   * @param event Event name\n   * @param callback Callback function\n   */\n  off(event: 'scroll', callback: ScrollCallback): void\n  off(event: 'virtual-scroll', callback: VirtualScrollCallback): void\n  off(event: LenisEvent, callback: any) {\n    return this.emitter.off(event, callback)\n  }\n\n  private onScrollEnd = (e: Event | CustomEvent) => {\n    if (!(e instanceof CustomEvent)) {\n      if (this.isScrolling === 'smooth' || this.isScrolling === false) {\n        e.stopPropagation()\n      }\n    }\n  }\n\n  private dispatchScrollendEvent = () => {\n    this.options.wrapper.dispatchEvent(\n      new CustomEvent('scrollend', {\n        bubbles: this.options.wrapper === window,\n        // cancelable: false,\n        detail: {\n          lenisScrollEnd: true,\n        },\n      })\n    )\n  }\n\n  private onTransitionEnd = (event: TransitionEvent) => {\n    if (event.propertyName.includes('overflow')) {\n      const property = this.isHorizontal ? 'overflow-x' : 'overflow-y'\n\n      const overflow = getComputedStyle(this.rootElement)[\n        property as keyof CSSStyleDeclaration\n      ] as string\n\n      if (['hidden', 'clip'].includes(overflow)) {\n        this.internalStop()\n      } else {\n        this.internalStart()\n      }\n    }\n  }\n\n  private setScroll(scroll: number) {\n    // behavior: 'instant' bypasses the scroll-behavior CSS property\n\n    if (this.isHorizontal) {\n      this.options.wrapper.scrollTo({ left: scroll, behavior: 'instant' })\n    } else {\n      this.options.wrapper.scrollTo({ top: scroll, behavior: 'instant' })\n    }\n  }\n\n  private onClick = (event: PointerEvent | MouseEvent) => {\n    const path = event.composedPath()\n    const anchor = path.find(\n      (node) =>\n        node instanceof HTMLAnchorElement &&\n        (node.getAttribute('href')?.startsWith('#') ||\n          node.getAttribute('href')?.startsWith('/#') ||\n          node.getAttribute('href')?.startsWith('./#'))\n    ) as HTMLAnchorElement | undefined\n    if (anchor) {\n      const id = anchor.getAttribute('href')\n\n      if (id) {\n        const options =\n          typeof this.options.anchors === 'object' && this.options.anchors\n            ? this.options.anchors\n            : undefined\n\n        let target: number | string = `#${id.split('#')[1]}`\n        if (['#', '/#', './#', '#top', '/#top', './#top'].includes(id)) {\n          target = 0\n        }\n\n        this.scrollTo(target, options)\n      }\n    }\n  }\n\n  private onPointerDown = (event: PointerEvent | MouseEvent) => {\n    if (event.button === 1) {\n      this.reset()\n    }\n  }\n\n  private onVirtualScroll = (data: VirtualScrollData) => {\n    if (\n      typeof this.options.virtualScroll === 'function' &&\n      this.options.virtualScroll(data) === false\n    )\n      return\n\n    const { deltaX, deltaY, event } = data\n\n    this.emitter.emit('virtual-scroll', { deltaX, deltaY, event })\n\n    // keep zoom feature\n    if (event.ctrlKey) return\n    // @ts-ignore\n    if (event.lenisStopPropagation) return\n\n    const isTouch = event.type.includes('touch')\n    const isWheel = event.type.includes('wheel')\n\n    this.isTouching = event.type === 'touchstart' || event.type === 'touchmove'\n    // if (event.type === 'touchend') {\n    //   console.log('touchend', this.scroll)\n    //   // this.lastVelocity = this.velocity\n    //   // this.velocity = 0\n    //   // this.isScrolling = false\n    //   this.emit({ type: 'touchend' })\n    //   // alert('touchend')\n    //   return\n    // }\n\n    const isClickOrTap = deltaX === 0 && deltaY === 0\n\n    const isTapToStop =\n      this.options.syncTouch &&\n      isTouch &&\n      event.type === 'touchstart' &&\n      isClickOrTap &&\n      !this.isStopped &&\n      !this.isLocked\n\n    if (isTapToStop) {\n      this.reset()\n      return\n    }\n\n    // const isPullToRefresh =\n    //   this.options.gestureOrientation === 'vertical' &&\n    //   this.scroll === 0 &&\n    //   !this.options.infinite &&\n    //   deltaY <= 5 // touch pull to refresh, not reliable yet\n\n    const isUnknownGesture =\n      (this.options.gestureOrientation === 'vertical' && deltaY === 0) ||\n      (this.options.gestureOrientation === 'horizontal' && deltaX === 0)\n\n    if (isClickOrTap || isUnknownGesture) {\n      // console.log('prevent')\n      return\n    }\n\n    // catch if scrolling on nested scroll elements\n    let composedPath = event.composedPath()\n    composedPath = composedPath.slice(0, composedPath.indexOf(this.rootElement)) // remove parents elements\n\n    const prevent = this.options.prevent\n\n    if (\n      !!composedPath.find(\n        (node) =>\n          node instanceof HTMLElement &&\n          ((typeof prevent === 'function' && prevent?.(node)) ||\n            node.hasAttribute?.('data-lenis-prevent') ||\n            (isTouch && node.hasAttribute?.('data-lenis-prevent-touch')) ||\n            (isWheel && node.hasAttribute?.('data-lenis-prevent-wheel')) ||\n            (this.options.allowNestedScroll &&\n              this.checkNestedScroll(node, { deltaX, deltaY })))\n      )\n    )\n      return\n\n    if (this.isStopped || this.isLocked) {\n      if (event.cancelable) {\n        event.preventDefault() // this will stop forwarding the event to the parent, this is problematic\n      }\n      return\n    }\n\n    const isSmooth =\n      (this.options.syncTouch && isTouch) ||\n      (this.options.smoothWheel && isWheel)\n\n    if (!isSmooth) {\n      this.isScrolling = 'native'\n      this.animate.stop()\n      // @ts-ignore\n      event.lenisStopPropagation = true\n      return\n    }\n\n    let delta = deltaY\n    if (this.options.gestureOrientation === 'both') {\n      delta = Math.abs(deltaY) > Math.abs(deltaX) ? deltaY : deltaX\n    } else if (this.options.gestureOrientation === 'horizontal') {\n      delta = deltaX\n    }\n\n    if (\n      !this.options.overscroll ||\n      this.options.infinite ||\n      (this.options.wrapper !== window &&\n        this.limit > 0 &&\n        ((this.animatedScroll > 0 && this.animatedScroll < this.limit) ||\n          (this.animatedScroll === 0 && deltaY > 0) ||\n          (this.animatedScroll === this.limit && deltaY < 0)))\n    ) {\n      // @ts-ignore\n      event.lenisStopPropagation = true\n      // event.stopPropagation()\n    }\n\n    if (event.cancelable) {\n      event.preventDefault()\n    }\n\n    const isSyncTouch = isTouch && this.options.syncTouch\n    const isTouchEnd = isTouch && event.type === 'touchend'\n\n    const hasTouchInertia = isTouchEnd\n\n    if (hasTouchInertia) {\n      // delta = this.velocity * this.options.touchInertiaMultiplier\n      delta =\n        Math.sign(this.velocity) *\n        Math.pow(Math.abs(this.velocity), this.options.touchInertiaExponent)\n    }\n\n    this.scrollTo(this.targetScroll + delta, {\n      programmatic: false,\n      ...(isSyncTouch\n        ? {\n            lerp: hasTouchInertia ? this.options.syncTouchLerp : 1,\n            // immediate: !hasTouchInertia,\n          }\n        : {\n            lerp: this.options.lerp,\n            duration: this.options.duration,\n            easing: this.options.easing,\n          }),\n    })\n  }\n\n  /**\n   * Force lenis to recalculate the dimensions\n   */\n  resize() {\n    this.dimensions.resize()\n    this.animatedScroll = this.targetScroll = this.actualScroll\n    this.emit()\n  }\n\n  private emit() {\n    this.emitter.emit('scroll', this)\n  }\n\n  private onNativeScroll = () => {\n    if (this._resetVelocityTimeout !== null) {\n      clearTimeout(this._resetVelocityTimeout)\n      this._resetVelocityTimeout = null\n    }\n\n    if (this._preventNextNativeScrollEvent) {\n      this._preventNextNativeScrollEvent = false\n      return\n    }\n\n    if (this.isScrolling === false || this.isScrolling === 'native') {\n      const lastScroll = this.animatedScroll\n      this.animatedScroll = this.targetScroll = this.actualScroll\n      this.lastVelocity = this.velocity\n      this.velocity = this.animatedScroll - lastScroll\n      this.direction = Math.sign(\n        this.animatedScroll - lastScroll\n      ) as Lenis['direction']\n\n      if (!this.isStopped) {\n        this.isScrolling = 'native'\n      }\n\n      this.emit()\n\n      if (this.velocity !== 0) {\n        this._resetVelocityTimeout = setTimeout(() => {\n          this.lastVelocity = this.velocity\n          this.velocity = 0\n          this.isScrolling = false\n          this.emit()\n        }, 400)\n      }\n    }\n  }\n\n  private reset() {\n    this.isLocked = false\n    this.isScrolling = false\n    this.animatedScroll = this.targetScroll = this.actualScroll\n    this.lastVelocity = this.velocity = 0\n    this.animate.stop()\n  }\n\n  /**\n   * Start lenis scroll after it has been stopped\n   */\n  start() {\n    if (!this.isStopped) return\n\n    if (this.options.autoToggle) {\n      this.rootElement.style.removeProperty('overflow')\n      return\n    }\n\n    this.internalStart()\n  }\n\n  private internalStart() {\n    if (!this.isStopped) return\n\n    this.reset()\n    this.isStopped = false\n    this.emit()\n  }\n\n  /**\n   * Stop lenis scroll\n   */\n  stop() {\n    if (this.isStopped) return\n\n    if (this.options.autoToggle) {\n      this.rootElement.style.setProperty('overflow', 'clip')\n      return\n    }\n\n    this.internalStop()\n  }\n\n  private internalStop() {\n    if (this.isStopped) return\n\n    this.reset()\n    this.isStopped = true\n    this.emit()\n  }\n\n  /**\n   * RequestAnimationFrame for lenis\n   *\n   * @param time The time in ms from an external clock like `requestAnimationFrame` or Tempus\n   */\n  raf = (time: number) => {\n    const deltaTime = time - (this.time || time)\n    this.time = time\n\n    this.animate.advance(deltaTime * 0.001)\n\n    if (this.options.autoRaf) {\n      this.__rafID = requestAnimationFrame(this.raf)\n    }\n  }\n\n  /**\n   * Scroll to a target value\n   *\n   * @param target The target value to scroll to\n   * @param options The options for the scroll\n   *\n   * @example\n   * lenis.scrollTo(100, {\n   *   offset: 100,\n   *   duration: 1,\n   *   easing: (t) => 1 - Math.cos((t * Math.PI) / 2),\n   *   lerp: 0.1,\n   *   onStart: () => {\n   *     console.log('onStart')\n   *   },\n   *   onComplete: () => {\n   *     console.log('onComplete')\n   *   },\n   * })\n   */\n  scrollTo(\n    target: number | string | HTMLElement,\n    {\n      offset = 0,\n      immediate = false,\n      lock = false,\n      duration = this.options.duration,\n      easing = this.options.easing,\n      lerp = this.options.lerp,\n      onStart,\n      onComplete,\n      force = false, // scroll even if stopped\n      programmatic = true, // called from outside of the class\n      userData,\n    }: ScrollToOptions = {}\n  ) {\n    if ((this.isStopped || this.isLocked) && !force) return\n\n    // keywords\n    if (\n      typeof target === 'string' &&\n      ['top', 'left', 'start'].includes(target)\n    ) {\n      target = 0\n    } else if (\n      typeof target === 'string' &&\n      ['bottom', 'right', 'end'].includes(target)\n    ) {\n      target = this.limit\n    } else {\n      let node\n\n      if (typeof target === 'string') {\n        // CSS selector\n        node = document.querySelector(target)\n      } else if (target instanceof HTMLElement && target?.nodeType) {\n        // Node element\n        node = target\n      }\n\n      if (node) {\n        if (this.options.wrapper !== window) {\n          // nested scroll offset correction\n          const wrapperRect = this.rootElement.getBoundingClientRect()\n          offset -= this.isHorizontal ? wrapperRect.left : wrapperRect.top\n        }\n\n        const rect = node.getBoundingClientRect()\n\n        target =\n          (this.isHorizontal ? rect.left : rect.top) + this.animatedScroll\n      }\n    }\n\n    if (typeof target !== 'number') return\n\n    target += offset\n    target = Math.round(target)\n\n    if (this.options.infinite) {\n      if (programmatic) {\n        this.targetScroll = this.animatedScroll = this.scroll\n\n        const distance = target - this.animatedScroll\n\n        if (distance > this.limit / 2) {\n          target = target - this.limit\n        } else if (distance < -this.limit / 2) {\n          target = target + this.limit\n        }\n      }\n    } else {\n      target = clamp(0, target, this.limit)\n    }\n\n    if (target === this.targetScroll) {\n      onStart?.(this)\n      onComplete?.(this)\n      return\n    }\n\n    this.userData = userData ?? {}\n\n    if (immediate) {\n      this.animatedScroll = this.targetScroll = target\n      this.setScroll(this.scroll)\n      this.reset()\n      this.preventNextNativeScrollEvent()\n      this.emit()\n      onComplete?.(this)\n      this.userData = {}\n\n      requestAnimationFrame(() => {\n        this.dispatchScrollendEvent()\n      })\n      return\n    }\n\n    if (!programmatic) {\n      this.targetScroll = target\n    }\n\n    // flip to easing/time based animation if at least one of them is provided\n    if (typeof duration === 'number' && typeof easing !== 'function') {\n      easing = defaultEasing\n    } else if (typeof easing === 'function' && typeof duration !== 'number') {\n      duration = 1\n    }\n\n    this.animate.fromTo(this.animatedScroll, target, {\n      duration,\n      easing,\n      lerp,\n      onStart: () => {\n        // started\n        if (lock) this.isLocked = true\n        this.isScrolling = 'smooth'\n        onStart?.(this)\n      },\n      onUpdate: (value: number, completed: boolean) => {\n        this.isScrolling = 'smooth'\n\n        // updated\n        this.lastVelocity = this.velocity\n        this.velocity = value - this.animatedScroll\n        this.direction = Math.sign(this.velocity) as Lenis['direction']\n\n        this.animatedScroll = value\n        this.setScroll(this.scroll)\n\n        if (programmatic) {\n          // wheel during programmatic should stop it\n          this.targetScroll = value\n        }\n\n        if (!completed) this.emit()\n\n        if (completed) {\n          this.reset()\n          this.emit()\n          onComplete?.(this)\n          this.userData = {}\n\n          requestAnimationFrame(() => {\n            this.dispatchScrollendEvent()\n          })\n\n          // avoid emitting event twice\n          this.preventNextNativeScrollEvent()\n        }\n      },\n    })\n  }\n\n  private preventNextNativeScrollEvent() {\n    this._preventNextNativeScrollEvent = true\n\n    requestAnimationFrame(() => {\n      this._preventNextNativeScrollEvent = false\n    })\n  }\n\n  private checkNestedScroll(\n    node: HTMLElement,\n    { deltaX, deltaY }: { deltaX: number; deltaY: number }\n  ) {\n    const time = Date.now()\n\n    // @ts-ignore\n    const cache = (node._lenis ??= {})\n\n    let hasOverflowX,\n      hasOverflowY,\n      isScrollableX,\n      isScrollableY,\n      scrollWidth,\n      scrollHeight,\n      clientWidth,\n      clientHeight\n\n    const gestureOrientation = this.options.gestureOrientation\n\n    if (time - (cache.time ?? 0) > 2000) {\n      cache.time = Date.now()\n\n      const computedStyle = window.getComputedStyle(node)\n      cache.computedStyle = computedStyle\n\n      const overflowXString = computedStyle.overflowX\n      const overflowYString = computedStyle.overflowY\n\n      hasOverflowX = ['auto', 'overlay', 'scroll'].includes(overflowXString)\n      hasOverflowY = ['auto', 'overlay', 'scroll'].includes(overflowYString)\n      cache.hasOverflowX = hasOverflowX\n      cache.hasOverflowY = hasOverflowY\n\n      if (!hasOverflowX && !hasOverflowY) return false // if no overflow, it's not scrollable no matter what, early return saves some computations\n      if (gestureOrientation === 'vertical' && !hasOverflowY) return false\n      if (gestureOrientation === 'horizontal' && !hasOverflowX) return false\n\n      scrollWidth = node.scrollWidth\n      scrollHeight = node.scrollHeight\n\n      clientWidth = node.clientWidth\n      clientHeight = node.clientHeight\n\n      isScrollableX = scrollWidth > clientWidth\n      isScrollableY = scrollHeight > clientHeight\n\n      cache.isScrollableX = isScrollableX\n      cache.isScrollableY = isScrollableY\n      cache.scrollWidth = scrollWidth\n      cache.scrollHeight = scrollHeight\n      cache.clientWidth = clientWidth\n      cache.clientHeight = clientHeight\n    } else {\n      isScrollableX = cache.isScrollableX\n      isScrollableY = cache.isScrollableY\n      hasOverflowX = cache.hasOverflowX\n      hasOverflowY = cache.hasOverflowY\n      scrollWidth = cache.scrollWidth\n      scrollHeight = cache.scrollHeight\n      clientWidth = cache.clientWidth\n      clientHeight = cache.clientHeight\n    }\n\n    if (\n      (!hasOverflowX && !hasOverflowY) ||\n      (!isScrollableX && !isScrollableY)\n    ) {\n      return false\n    }\n\n    if (gestureOrientation === 'vertical' && (!hasOverflowY || !isScrollableY))\n      return false\n\n    if (\n      gestureOrientation === 'horizontal' &&\n      (!hasOverflowX || !isScrollableX)\n    )\n      return false\n\n    let orientation: 'x' | 'y' | undefined\n\n    if (gestureOrientation === 'horizontal') {\n      orientation = 'x'\n    } else if (gestureOrientation === 'vertical') {\n      orientation = 'y'\n    } else {\n      const isScrollingX = deltaX !== 0\n      const isScrollingY = deltaY !== 0\n\n      if (isScrollingX && hasOverflowX && isScrollableX) {\n        orientation = 'x'\n      }\n\n      if (isScrollingY && hasOverflowY && isScrollableY) {\n        orientation = 'y'\n      }\n    }\n\n    if (!orientation) return false\n\n    let scroll, maxScroll, delta, hasOverflow, isScrollable\n\n    if (orientation === 'x') {\n      scroll = node.scrollLeft\n      maxScroll = scrollWidth - clientWidth\n      delta = deltaX\n\n      hasOverflow = hasOverflowX\n      isScrollable = isScrollableX\n    } else if (orientation === 'y') {\n      scroll = node.scrollTop\n      maxScroll = scrollHeight - clientHeight\n      delta = deltaY\n\n      hasOverflow = hasOverflowY\n      isScrollable = isScrollableY\n    } else {\n      return false\n    }\n\n    const willScroll = delta > 0 ? scroll < maxScroll : scroll > 0\n\n    return willScroll && hasOverflow && isScrollable\n  }\n\n  /**\n   * The root element on which lenis is instanced\n   */\n  get rootElement() {\n    return (\n      this.options.wrapper === window\n        ? document.documentElement\n        : this.options.wrapper\n    ) as HTMLElement\n  }\n\n  /**\n   * The limit which is the maximum scroll value\n   */\n  get limit() {\n    if (this.options.__experimental__naiveDimensions) {\n      if (this.isHorizontal) {\n        return this.rootElement.scrollWidth - this.rootElement.clientWidth\n      } else {\n        return this.rootElement.scrollHeight - this.rootElement.clientHeight\n      }\n    } else {\n      return this.dimensions.limit[this.isHorizontal ? 'x' : 'y']\n    }\n  }\n\n  /**\n   * Whether or not the scroll is horizontal\n   */\n  get isHorizontal() {\n    return this.options.orientation === 'horizontal'\n  }\n\n  /**\n   * The actual scroll value\n   */\n  get actualScroll() {\n    // value browser takes into account\n    // it has to be this way because of DOCTYPE declaration\n    const wrapper = this.options.wrapper as Window | HTMLElement\n\n    return this.isHorizontal\n      ? (wrapper as Window).scrollX ?? (wrapper as HTMLElement).scrollLeft\n      : (wrapper as Window).scrollY ?? (wrapper as HTMLElement).scrollTop\n  }\n\n  /**\n   * The current scroll value\n   */\n  get scroll() {\n    return this.options.infinite\n      ? modulo(this.animatedScroll, this.limit)\n      : this.animatedScroll\n  }\n\n  /**\n   * The progress of the scroll relative to the limit\n   */\n  get progress() {\n    // avoid progress to be NaN\n    return this.limit === 0 ? 1 : this.scroll / this.limit\n  }\n\n  /**\n   * Current scroll state\n   */\n  get isScrolling() {\n    return this._isScrolling\n  }\n\n  private set isScrolling(value: Scrolling) {\n    if (this._isScrolling !== value) {\n      this._isScrolling = value\n      this.updateClassName()\n    }\n  }\n\n  /**\n   * Check if lenis is stopped\n   */\n  get isStopped() {\n    return this._isStopped\n  }\n\n  private set isStopped(value: boolean) {\n    if (this._isStopped !== value) {\n      this._isStopped = value\n      this.updateClassName()\n    }\n  }\n\n  /**\n   * Check if lenis is locked\n   */\n  get isLocked() {\n    return this._isLocked\n  }\n\n  private set isLocked(value: boolean) {\n    if (this._isLocked !== value) {\n      this._isLocked = value\n      this.updateClassName()\n    }\n  }\n\n  /**\n   * Check if lenis is smooth scrolling\n   */\n  get isSmooth() {\n    return this.isScrolling === 'smooth'\n  }\n\n  /**\n   * The class name applied to the wrapper element\n   */\n  get className() {\n    let className = 'lenis'\n    if (this.options.autoToggle) className += ' lenis-autoToggle'\n    if (this.isStopped) className += ' lenis-stopped'\n    if (this.isLocked) className += ' lenis-locked'\n    if (this.isScrolling) className += ' lenis-scrolling'\n    if (this.isScrolling === 'smooth') className += ' lenis-smooth'\n    return className\n  }\n\n  private updateClassName() {\n    this.cleanUpClassName()\n\n    this.rootElement.className =\n      `${this.rootElement.className} ${this.className}`.trim()\n  }\n\n  private cleanUpClassName() {\n    this.rootElement.className = this.rootElement.className\n      .replace(/lenis(-\\w+)?/g, '')\n      .trim()\n  }\n}\n", "import type { LenisOptions } from \"lenis\";\nimport Lenis from \"lenis\";\n\nexport function ScrollController({ lenis, useGSAP }: ScrollControllerOptions = {}) {\n    const style = document.createElement(\"style\");\n    const instance = new Lenis(lenis || { lerp: 0 });\n\n    if (useGSAP) {\n        if (typeof window.ScrollTrigger !== \"undefined\") gsap();\n        else document.addEventListener(\"DOMContentLoaded\", gsap);\n    } else {\n        requestAnimationFrame(raf);\n    }\n\n    style.textContent =\n        \"html.lenis,html.lenis body{height:auto}.lenis:not(.lenis-autoToggle).lenis-stopped{overflow:clip}.lenis.lenis-smooth [data-lenis-prevent]{overscroll-behavior:contain}.lenis.lenis-smooth iframe{pointer-events:none}.lenis.lenis-autoToggle{transition-property:overflow;transition-duration:1ms;transition-behavior:allow-discrete}\";\n    document.head.append(style);\n\n    return instance;\n\n    function raf(t: number) {\n        instance.raf(t);\n        requestAnimationFrame(raf);\n    }\n\n    function gsap() {\n        instance.on(\"scroll\", window.ScrollTrigger.update);\n        window.gsap.ticker.add((t: number) => instance.raf(t * 1000));\n        window.gsap.ticker.lagSmoothing(0);\n    }\n}\n\nexport type ScrollControllerOptions = {\n    lenis?: LenisOptions;\n    useGSAP?: boolean;\n};\n", "export function setCssProperty(name: string, value: string, node?: HTMLElement) {\n    if (node) node.style.setProperty(name, value);\n    else document.documentElement.style.setProperty(name, value);\n}\n", "export const appConfig = {\n    classes: {\n        hidden: \"u-hidden\"\n    }\n};\n", "import { appConfig } from \"@app/constants\";\n\nexport function hideElement(node: HTMLElement) {\n    node.classList.add(appConfig.classes.hidden);\n}\n\nexport function showElement(node: HTMLElement) {\n    node.classList.remove(appConfig.classes.hidden);\n}\n\nexport function toggleElement(node: HTMLElement) {\n    node.classList.toggle(appConfig.classes.hidden);\n}\n", "export function getAttribute(node: HTMLElement, name: string) {\n    return node.getAttribute(name) || node.attributes.getNamedItem(name) || null;\n}\n", "export function getTemplate(id: string) {\n    const t = (document.getElementById(`template_${id}`) ||\n        document.getElementById(id)) as HTMLTemplateElement;\n    return t && t.tagName === \"TEMPLATE\" ? t.content.firstChild?.cloneNode(true) : null;\n}\n", "type Callback = () => void;\n\nconst observedNodes = new Map<HTMLElement, { prevClass: Set<string>; callbacks: Set<Callback> }>();\n\nconst observer = new MutationObserver(list => {\n    for (const { type, attributeName, target } of list) {\n        if (type === \"attributes\" && attributeName === \"class\") {\n            const entry = observedNodes.get(target as HTMLElement);\n            if (!entry) continue;\n\n            const currentClass = new Set((target as HTMLElement).classList);\n\n            if (!isEqual(currentClass, entry.prevClass)) {\n                entry.prevClass = currentClass;\n                entry.callbacks.forEach(cb => cb());\n            }\n        }\n    }\n});\n\nfunction isEqual(a: Set<string>, b: Set<string>): boolean {\n    if (a.size !== b.size) return false;\n    for (const val of a) if (!b.has(val)) return false;\n    return true;\n}\n\nexport function onClassChange(node: HTMLElement, callback: Callback) {\n    let entry = observedNodes.get(node);\n\n    if (!entry) {\n        entry = { prevClass: new Set(node.classList), callbacks: new Set() };\n        observedNodes.set(node, entry);\n        observer.observe(node, { attributes: true, attributeFilter: [\"class\"] });\n    }\n\n    entry.callbacks.add(callback);\n\n    return {\n        off() {\n            entry.callbacks.delete(callback);\n        }\n    };\n}\n", "import { setCssProperty } from \"@app/shared/dom\";\n\nexport function setViewportHeight() {\n    setCssProperty(\"--viewport-height\", `${window.innerHeight}px`);\n    setCssProperty(\"--dynamic-viewport-height\", `${window.innerHeight}px`);\n\n    window.addEventListener(\"resize\", () => {\n        setCssProperty(\"--dynamic-viewport-height\", `${window.innerHeight}px`);\n    });\n}\n", "import type Lenis from \"lenis\";\n\nexport function modalBuilder(scrollController?: Lenis) {\n    const modals = new Map<string, Modal>();\n    let idx = 0;\n\n    function build(node: HTMLElement, { name, onInit, onOpen, onClose }: ModalOptions = {}): Modal {\n        idx++;\n\n        const background = $('<div class=\"modal-background\">')[0];\n        const closeButtons = node.querySelectorAll('[data-action=\"close\"]');\n        const animationDuration = 510;\n\n        closeButtons.forEach(btn => btn.addEventListener(\"click\", close));\n        onInit && onInit();\n\n        const instance = { open, close };\n        modals.set(name || `modal-${idx}`, instance);\n\n        return instance;\n\n        function open() {\n            if (scrollController) scrollController.stop();\n\n            background.addEventListener(\"click\", close);\n            document.addEventListener(\"keyup\", listenEscape);\n            document.body.append(background);\n\n            setTimeout(() => {\n                document.body.classList.add(\"modal-opened\");\n                node.classList.add(\"is-open\");\n\n                onOpen && onOpen();\n            }, 10);\n        }\n\n        function close() {\n            background.removeEventListener(\"click\", close);\n            document.removeEventListener(\"keyup\", listenEscape);\n\n            node.classList.remove(\"is-open\");\n            document.body.classList.remove(\"modal-opened\");\n\n            setTimeout(() => {\n                if (scrollController) scrollController.start();\n                background.remove();\n\n                onClose && onClose();\n            }, animationDuration);\n        }\n\n        function listenEscape(evt: KeyboardEvent) {\n            if (\"Escape\" === evt.key) close();\n        }\n    }\n\n    return {\n        build,\n        get: (name: string) => modals.get(name),\n        getAll: () => Object.fromEntries(modals)\n    };\n}\n\ntype ModalOptions = {\n    name?: string;\n    onInit?: () => void;\n    onClose?: () => void;\n    onOpen?: () => void;\n};\n\ntype Modal = {\n    open: () => void;\n    close: () => void;\n};\n", "export function article() {\n    function render({ richtext, renderFunctions, container }: RenderArticleOptions) {\n        const tags = Object.keys(renderFunctions);\n        const processedHtml = removeWrappingPTags(richtext.innerHTML, tags);\n\n        const parser = new DOMParser();\n        const doc = parser.parseFromString(processedHtml, 'text/html');\n        const result = processNode(doc.body);\n\n        if (result) [...result.childNodes].forEach((n) => container.append(n));\n        return container;\n\n        function removeWrappingPTags(html: string, tags: string[]) {\n            const unescapedHtml = html.replace(/&lt;/g, '<').replace(/&gt;/g, '>');\n            const regex = new RegExp(\n                `<p>\\\\s*(<\\\\/?(${tags.join('|')})(?:\\\\s[^>]*)?>)\\\\s*<\\\\/p>`,\n                'gi'\n            );\n            return unescapedHtml.replace(regex, '$1');\n        }\n\n        function processNode(node: HTMLElement | ChildNode | null) {\n            if (!node) return;\n\n            if (node.nodeType === Node.TEXT_NODE) {\n                return document.createTextNode(node.textContent || '');\n            }\n\n            if (node.nodeType === Node.ELEMENT_NODE) {\n                const tagName = (node as HTMLElement).tagName.toLowerCase();\n                const renderFunction = getRenderFunction(tagName);\n\n                if (renderFunction) {\n                    const children = Array.from(node.childNodes || [])\n                        .map(processNode)\n                        .filter(Boolean) as Node[];\n\n                    return renderFunction(node as HTMLElement, children);\n                } else {\n                    const clone = node.cloneNode(false);\n                    Array.from(node.childNodes).forEach((child) => {\n                        const processedChild = processNode(child);\n                        if (processedChild) {\n                            clone.appendChild(processedChild);\n                        }\n                    });\n                    return clone;\n                }\n            }\n\n            return null;\n        }\n\n        function getRenderFunction(tagName: string) {\n            return renderFunctions[tagName] || null;\n        }\n    }\n\n    return { render };\n}\n\ntype RenderArticleOptions = {\n    richtext: HTMLElement;\n    container: HTMLElement;\n    renderFunctions: {\n        [key: string]: RenderFunction;\n    };\n};\n\nexport type RenderFunction = (node: HTMLElement, children: Node[]) => HTMLElement | Node;\n", "export function selectInput() {\n    function build(node: HTMLElement) {\n        const seleted = node.querySelector(\"[data-value]\");\n        const toggle = node.querySelector(\"[data-toggle]\");\n\n        if (!seleted || !toggle) return;\n\n        const defaultText = seleted.textContent;\n\n        node.querySelectorAll(\"input\").forEach(input => {\n            input.addEventListener(\"change\", () => {\n                if (input.checked) {\n                    seleted.textContent = input.value;\n                    $(node).triggerHandler(\"w-close.w-dropdown\");\n\n                    toggle.classList.add(\"is-selected\", \"is-valid\");\n                    toggle.classList.remove(\"is-invalid\");\n                }\n            });\n        });\n\n        node.addEventListener(\"reset\", () => {\n            seleted.textContent = defaultText;\n            toggle.classList.remove(\"is-invalid\", \"is-valid\", \"is-selected\");\n        });\n    }\n\n    return { build };\n}\n", "export function getFormData(node: HTMLFormElement) {\n    const result: Data = {};\n\n    try {\n        for (let [key, value] of new FormData(node)) {\n            result[key] = value;\n        }\n    } catch {\n        console.warn(\"getFormData: node is not Form\");\n    }\n\n    return result;\n}\n\ntype Data = {\n    [key: string]: any;\n};\n", "export function debounce<F extends (...args: any[]) => void>(func: F, ms: number) {\n    let lastCall: number | null = null;\n    let lastCallTimer: ReturnType<typeof setTimeout> | null = null;\n\n    return function (this: unknown, ...args: Parameters<F>) {\n        const now = Date.now();\n        if (lastCall && now - lastCall <= ms && lastCallTimer) {\n            clearTimeout(lastCallTimer);\n        }\n        lastCall = now;\n        lastCallTimer = setTimeout(() => func.apply(this, args), ms);\n    };\n}\n", "export function sleep(ms: number) {\n    return new Promise(resolve => setTimeout(resolve, ms));\n}\n", "export function toArray(value: string, scope?: Document | Element): Element[] {\n    if (!value || typeof value != \"string\") return [];\n\n    const context: Document | Element = scope || document;\n\n    return Array.from(context.querySelectorAll(value));\n}\n", "export function nthElement(arr: Array<any> = [], every: number = 1, from: number = 0) {\n    const result = [];\n\n    for (let i = from - 1; i < arr.length; i += every) {\n        result.push(arr[i]);\n    }\n\n    return result;\n}\n", "export function getQueryParam(name: string, url?: string) {\n    try {\n        return new URL(url || window.location.href).searchParams.get(name);\n    } catch {\n        return null;\n    }\n}\n\nexport function getQueryParams(url?: string) {\n    const res: Params = {};\n\n    try {\n        new URL(url || window.location.href).searchParams.forEach((value, key) => {\n            res[key] = value;\n        });\n    } catch {}\n\n    return res;\n}\n\ntype Params = {\n    [key: string]: string;\n};\n", "export async function restartWebflow() {\n    const { Webflow } = window;\n    if (!Webflow || !(\"destroy\" in Webflow) || !(\"ready\" in Webflow) || !(\"require\" in Webflow))\n        return;\n\n    Webflow.destroy();\n    Webflow.ready();\n\n    return new Promise(resolve => Webflow.push(() => resolve(undefined)));\n}\n\n// export const restartWebflow = async (modules?: WebflowModule[]): Promise<unknown> => {\n\n//     if (modules && !modules.length) return;\n\n//     // Global\n//     if (!modules) {\n// Webflow.destroy();\n// Webflow.ready();\n//     }\n\n//     // IX2\n//     if (!modules || modules.includes('ix2')) {\n//         const ix2 = Webflow.require('ix2');\n\n//         if (ix2) {\n//             const { store, actions } = ix2;\n//             const { eventState } = store.getState().ixSession;\n//             const stateEntries = Object.entries(eventState);\n\n//             if (!modules) ix2.destroy();\n\n//             ix2.init();\n\n//             await Promise.all(\n//                 stateEntries.map((state) => store.dispatch(actions.eventStateChanged(...state)))\n//             );\n//         }\n//     }\n\n//     // Commerce\n//     if (!modules || modules.includes('commerce')) {\n//         const commerce = Webflow.require('commerce');\n//         const siteId = getSiteId();\n\n//         if (commerce && siteId) {\n//             commerce.destroy();\n//             commerce.init({ siteId, apiUrl: 'https://render.webflow.com' });\n//         }\n//     }\n\n//     // Lightbox\n//     if (modules?.includes('lightbox')) Webflow.require('lightbox')?.ready();\n\n//     // Slider\n//     if (modules?.includes('slider')) {\n//         const slider = Webflow.require('slider');\n\n//         if (slider) {\n//             slider.redraw();\n//             slider.ready();\n//         }\n//     }\n\n//     // Tabs\n//     if (modules?.includes('tabs')) Webflow.require('tabs')?.redraw();\n\n//     return new Promise((resolve) => Webflow.push(() => resolve(undefined)));\n// };\n", "import { getFormData } from \"@app/features\";\nimport { debounce, getQueryParam, getQueryParams, nthElement, sleep, toArray } from \"./utils\";\nimport {\n    getAttribute,\n    getTemplate,\n    hideElement,\n    onClassChange,\n    setCssProperty,\n    showElement,\n    toggleElement\n} from \"./dom\";\nimport { restartWebflow } from \"./webflow\";\n\nconst utils = {\n    getFormData,\n    getQueryParam,\n    getQueryParams,\n    getTemplate,\n    setCssProperty,\n    onClassChange,\n\n    sleep,\n    toArray,\n    debounce,\n    nthElement,\n\n    hideElement,\n    showElement,\n    toggleElement,\n    getAttribute,\n\n    restartWebflow\n};\n\nexport { utils };\n", "export function defineProperty(obj: any, key: string, value: any) {\n    Object.defineProperty(obj, key, {\n        value,\n        enumerable: false\n    });\n}\n", "import type { AppConfig } from \"@app/types\";\nimport { version } from \"../package.json\";\nimport { DeviceDetector, PageLifecycle, ScrollController, setViewportHeight } from \"@app/core\";\nimport { article, modalBuilder, selectInput } from \"@app/features\";\nimport { utils } from \"./shared\";\nimport { defineProperty } from \"@app/helpers\";\n\nfunction init(options: AppConfig = {}) {\n    setViewportHeight();\n\n    const { isMobile, isTablet, isDesktop } = DeviceDetector(options.devices || {});\n    const scroll = ScrollController({ ...options.scroll });\n    const modal = modalBuilder(scroll);\n\n    const utilities = {\n        ...utils,\n        isMobile,\n        isTablet,\n        isDesktop,\n        scroll\n    };\n\n    const components = {\n        modal,\n        selectInput: selectInput(),\n        article: article()\n        // phoneInput: phoneInput()\n    };\n\n    const { on } = PageLifecycle({ ...(options.page || {}), utilities });\n\n    const instance = {\n        on,\n        utils: utilities,\n        scroll,\n        components,\n        content: {}\n    };\n\n    defineProperty(instance, \"_developer\", \"t.me/drmc0de\");\n    defineProperty(instance, \"_version\", version);\n\n    return instance;\n}\n\nwindow.ReflowKit = { init };\n"],
  "mappings": "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",
  "names": ["version", "DeviceDetector", "mobile", "tablet", "desktop", "PageLifecycle", "onInit", "leavePageCondition", "utilities", "domListeners", "eventListeners", "domReady", "resolve", "init", "triggerEvent", "cb", "handleClick", "persisted", "event", "options", "listenFontLoad", "name", "_a", "e", "target", "href", "samePage", "version", "clamp", "min", "input", "max", "lerp", "x", "y", "t", "damp", "lambda", "deltaTime", "modulo", "n", "d", "Animate", "__publicField", "completed", "linearProgress", "easedProgress", "_a", "from", "to", "duration", "easing", "onStart", "onUpdate", "debounce", "callback", "delay", "timer", "args", "context", "Dimensions", "wrapper", "content", "autoResize", "debounceValue", "_b", "Emitter", "event", "callbacks", "i", "length", "cb", "LINE_HEIGHT", "listenerOptions", "VirtualScroll", "element", "options", "clientX", "clientY", "deltaX", "deltaY", "deltaMode", "multiplierX", "multiplierY", "defaultEasing", "Lenis", "eventsTarget", "smoothWheel", "syncTouch", "syncTouchLerp", "touchInertiaExponent", "infinite", "orientation", "gestureOrientation", "touchMultiplier", "wheelMultiplier", "prevent", "virtualScroll", "overscroll", "autoRaf", "anchors", "autoToggle", "allowNestedScroll", "__experimental__naiveDimensions", "property", "overflow", "anchor", "node", "_c", "id", "target", "data", "isTouch", "isWheel", "isClickOrTap", "isUnknownGesture", "composedPath", "delta", "isSyncTouch", "hasTouchInertia", "lastScroll", "time", "scroll", "offset", "immediate", "lock", "onComplete", "force", "programmatic", "userData", "wrapperRect", "rect", "distance", "value", "cache", "hasOverflowX", "hasOverflowY", "isScrollableX", "isScrollableY", "scrollWidth", "scrollHeight", "clientWidth", "clientHeight", "computedStyle", "overflowXString", "overflowYString", "isScrollingX", "isScrollingY", "maxScroll", "hasOverflow", "isScrollable", "className", "ScrollController", "lenis", "useGSAP", "style", "instance", "Lenis", "gsap", "raf", "t", "setCssProperty", "name", "value", "node", "appConfig", "hideElement", "node", "appConfig", "showElement", "toggleElement", "getAttribute", "node", "name", "getTemplate", "id", "_a", "observedNodes", "observer", "list", "type", "attributeName", "target", "entry", "currentClass", "isEqual", "cb", "a", "b", "val", "onClassChange", "node", "callback", "setViewportHeight", "setCssProperty", "modalBuilder", "scrollController", "modals", "idx", "build", "node", "name", "onInit", "onOpen", "onClose", "background", "closeButtons", "animationDuration", "btn", "close", "instance", "open", "listenEscape", "evt", "article", "render", "richtext", "renderFunctions", "container", "tags", "processedHtml", "removeWrappingPTags", "doc", "result", "processNode", "n", "html", "unescapedHtml", "regex", "node", "tagName", "renderFunction", "getRenderFunction", "children", "clone", "child", "processedChild", "selectInput", "build", "node", "seleted", "toggle", "defaultText", "input", "getFormData", "node", "result", "key", "value", "e", "debounce", "func", "ms", "lastCall", "lastCallTimer", "args", "now", "sleep", "ms", "resolve", "toArray", "value", "scope", "context", "nthElement", "arr", "every", "from", "result", "i", "getQueryParam", "name", "url", "e", "getQueryParams", "res", "value", "key", "restartWebflow", "Webflow", "resolve", "utils", "getFormData", "getQueryParam", "getQueryParams", "getTemplate", "setCssProperty", "onClassChange", "sleep", "toArray", "debounce", "nthElement", "hideElement", "showElement", "toggleElement", "getAttribute", "restartWebflow", "defineProperty", "obj", "key", "value", "init", "options", "setViewportHeight", "isMobile", "isTablet", "isDesktop", "DeviceDetector", "scroll", "ScrollController", "modal", "modalBuilder", "utilities", "utils", "components", "selectInput", "article", "on", "PageLifecycle", "instance", "defineProperty", "version"]
}
